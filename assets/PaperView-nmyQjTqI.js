import{u as $,__tla as ee}from"./app-D8oWtXao.js";import{_ as ae,C as te,u as le,s as z,b as D,D as h,c as g,B as l,a,w as o,g as n,F as H,h as se,G as S,i as U,x as oe,H as ne,I as ce,J as re,K as ie,o as _,f as r,L as ue,M as v,N as de,e as me,O as _e,P as pe,Q as fe,R as he,q as ge,S as ve,__tla as ye}from"./index-CAgA5Ba2.js";let j,Ce=Promise.all([(()=>{try{return ee}catch{}})(),(()=>{try{return ye}catch{}})()]).then(async()=>{let y,C,b,w,k,x,V,B,F;y={class:"header"},C={class:"header__left"},b={class:"header__mid"},w={class:"header__right"},k={class:"body"},x={class:"dialog__header"},V={class:"demonstration"},B={class:"dialog__footer"},F={__name:"PaperView",setup(be){te(t=>({"128c25be":q.value}));const c=$(),p=le(),{configs:i,arithmeticList:f}=z(p),{completed:E,correctCnt:M,countDown:I}=z(c);c.setCountDown(i.value.timer);const L=()=>{E.value?U.push({name:"Config"}).then(()=>{p.setConfigFlag(!1),c.setComplete(!1)}):S.confirm("\u6B64\u64CD\u4F5C\u4F1A\u6E05\u7A7A\u5DF2\u7ECF\u505A\u7684\u9898\u76EE\uFF0C\u662F\u5426\u8FD4\u56DE\u4E0A\u4E00\u9875\uFF1F","\u8B66\u544A",{confirmButtonText:"\u786E\u8BA4",showCancelButton:!1,closeOnClickModal:!1,closeOnPressEscape:!1,type:"warning",center:!0,roundButton:!0}).then(()=>{U.push({name:"Config"}).then(()=>{p.setConfigFlag(!1),c.setComplete(!1)})}).catch(t=>{console.log(t)})},u=D(!1),O=h(()=>Number((M.value/i.value.cnt*5).toFixed(2))),P=()=>{u.value=!0,c.submit(f.value)},N=[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#5cb87a",percentage:60},{color:"#1989fa",percentage:80},{color:"#6f7ad3",percentage:100}],T=h(()=>{let t=0;for(const{value:e}of f.value)typeof e<"u"&&String(e).replace(/\s+/g,"")!==""&&t++;return Math.round(t/i.value.cnt*100)}),d=D(),q=h(()=>{const t=(d==null?void 0:d.value.clientHeight)??0,e=window.innerHeight??0;return t>e?"100%":"auto"}),G=()=>{S.confirm("\u5DF2\u7ECF\u5230\u65F6\u95F4\u5566\uFF01","\u8B66\u544A",{confirmButtonText:"\u786E\u8BA4",showCancelButton:!1,closeOnClickModal:!1,closeOnPressEscape:!1,type:"warning",center:!0,showClose:!1}).then(P)};return(t,e)=>{const m=oe,J=ne,K=ce,Q=re,R=fe,A=he,W=ge,X=ve,Y=ie;return _(),g(H,null,[l("div",{ref_key:"paper",ref:d,class:"container"},[l("div",y,[l("div",C,[a(m,{icon:n(ue),link:"",size:"large",onClick:L},{default:o(()=>[r("\u8FD4\u56DE")]),_:1},8,["icon"])]),l("div",b,[a(J,{format:"mm:ss",value:n(I).end,onFinish:G},null,8,["value"])]),l("div",w,[a(K,{type:"circle",indeterminate:"",percentage:T.value,color:N,width:50},null,8,["percentage"]),a(Q,{title:"\u662F\u5426\u63D0\u4EA4\u8003\u5377?",onConfirm:P,"confirm-button-text":"\u662F","cancel-button-text":"\u5426"},{reference:o(()=>[a(m,{type:"warning"},{default:o(()=>[r("\u63D0\u4EA4")]),_:1})]),_:1})])]),a(R,{style:{margin:"12px 0"}}),l("div",k,[(_(!0),g(H,null,se(n(f),s=>(_(),g("div",{class:"body_item",key:s.id},[a(A,{class:"header__body_item_left",type:"primary"},{default:o(()=>[r(v(s.formula+" ="),1)]),_:2},1024),a(W,{class:"header__body_item_right",type:"number",size:"small","controls-position":"right",modelValue:s.value,"onUpdate:modelValue":Z=>s.value=Z},null,8,["modelValue","onUpdate:modelValue"])]))),128))])],512),a(Y,{style:{"min-width":"250px"},modelValue:u.value,"onUpdate:modelValue":e[2]||(e[2]=s=>u.value=s),"align-center":"","show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1},{footer:o(()=>[l("div",B,[a(m,{type:"success",icon:n(de),onClick:e[0]||(e[0]=s=>u.value=!1),style:{justifySelf:"end"}},{default:o(()=>[r("\u786E\u8BA4")]),_:1},8,["icon"]),O.value<5?(_(),me(m,{key:0,type:"danger",style:{"justify-self":"start"},icon:n(_e),onClick:e[1]||(e[1]=s=>t.$router.push({name:"Mistake"}))},{default:o(()=>[r("\u67E5\u770B\u9519\u9898")]),_:1},8,["icon"])):pe("",!0)])]),default:o(()=>[l("div",x,[l("span",V,v(n(M))+" / "+v(n(i).cnt),1),a(X,{size:"large",value:O.value,"allow-half":"",disabled:""},null,8,["value"])])]),_:1},8,["modelValue"])],64)}}},j=ae(F,[["__scopeId","data-v-143d9746"]])});export{Ce as __tla,j as default};
