import{Y as defineStore,b as ref,d as reactive,__tla as __tla_0}from"./index-ChcipySG.js";let useAppStore,__tla=Promise.all([(()=>{try{return __tla_0}catch{}})()]).then(async()=>{useAppStore=defineStore("app",()=>{const completed=ref(!1),countDown=reactive({minute:0,second:0,format:"00:00"}),correctCnt=ref(0),mistakes=ref([]),audioRef=ref(null),playHecai=e=>{audioRef.value.src=e>=3?"/audio/hecai.mp3":"/audio/hedaocai.wav",audioRef.value.loop=!1,audioRef.value.play()},setComplete=e=>{completed.value=e},setCountDown=(e,t)=>{countDown.minute=Math.floor(Number(e)),countDown.second=Math.ceil(Number(e)%1*60),countDown.format=`${countDown.minute}`.padStart(2,"0")+":"+`${countDown.second}`.padStart(2,"0");const o=setInterval(()=>{countDown.second===0&&countDown.minute===0&&(audioRef.value&&audioRef.value.stop(),clearInterval(o),t()),countDown.second<=0&&countDown.minute>0?(countDown.second=59,countDown.minute--):countDown.second>0&&countDown.second--,countDown.minute===0&&countDown.second==10&&(audioRef.value.src="/audio/countdown.mp3",audioRef.value.loop=!0,audioRef.value.play()),countDown.format=`${countDown.minute}`.padStart(2,"0")+":"+`${countDown.second}`.padStart(2,"0")},1e3);return()=>{o&&clearInterval(o)}},submit=async arithmeticList=>{correctCnt.value=0,mistakes.value=[];for(const{formula,value}of arithmeticList){const correctValue=eval(formula);eval(formula)==Number(value)?++correctCnt.value:mistakes.value.push({formula,value,correctValue})}setComplete(!0)};return{completed,correctCnt,countDown,mistakes,audioRef,setComplete,setCountDown,playHecai,submit}})});export{__tla,useAppStore as u};
