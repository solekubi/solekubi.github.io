/* empty css                  *//* empty css                 */import{u as q}from"./app-C934BW_j.js";import{_ as A,C as G,u as J,s as b,b as k,D as g,c as h,B as s,a as o,w as n,g as l,F as x,h as K,G as V,i as B,x as Q,H as j,I as W,J as X,K as Y,o as p,f as r,L as Z,M as v,N as ee,e as oe,O as te,P as se,Q as ae,R as ne,q as le,S as ce}from"./index-B6S5LRR-.js";const re={class:"header"},ie={class:"header__left"},ue={class:"header__mid"},de={class:"header__right"},_e={class:"body"},pe={class:"dialog__header"},fe={class:"demonstration"},me={class:"dialog__footer"},ge={__name:"PaperView",setup(he){G(t=>({"0c3498ba":M.value}));const c=q(),f=J(),{configs:i,arithmeticList:m}=b(f),{completed:E,correctCnt:C,countDown:S}=b(c);c.setCountDown(i.value.timer);const F=()=>{E.value?B.push({name:"Config"}).then(()=>{f.setConfigFlag(!1),c.setComplete(!1)}):V.confirm("此操作会清空已经做的题目，是否返回上一页？","警告",{confirmButtonText:"确认",showCancelButton:!1,closeOnClickModal:!1,closeOnPressEscape:!1,type:"warning",center:!0,roundButton:!0}).then(()=>{B.push({name:"Config"}).then(()=>{f.setConfigFlag(!1),c.setComplete(!1)})}).catch(t=>{console.log(t)})},u=k(!1),w=g(()=>Number((C.value/i.value.cnt*5).toFixed(2))),y=()=>{u.value=!0,c.submit(m.value)},P=[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#5cb87a",percentage:60},{color:"#1989fa",percentage:80},{color:"#6f7ad3",percentage:100}],D=g(()=>{let t=0;for(const{value:e}of m.value)typeof e<"u"&&String(e).replace(/\s+/g,"")!==""&&t++;return Math.round(t/i.value.cnt*100)}),d=k(),M=g(()=>{const t=(d==null?void 0:d.value.clientHeight)??0,e=window.innerHeight??0;return t>e?"100%":"auto"}),N=()=>{V.confirm("已经到时间啦！","警告",{confirmButtonText:"确认",showCancelButton:!1,closeOnClickModal:!1,closeOnPressEscape:!1,type:"warning",center:!0,showClose:!1}).then(y)};return(t,e)=>{const _=Q,O=j,T=W,H=X,z=ae,I=ne,L=le,R=ce,U=Y;return p(),h(x,null,[s("div",{ref_key:"paper",ref:d,class:"container"},[s("div",re,[s("div",ie,[o(_,{icon:l(Z),link:"",size:"large",onClick:F},{default:n(()=>[r("返回")]),_:1},8,["icon"])]),s("div",ue,[o(O,{format:"mm:ss",value:l(S).end,onFinish:N},null,8,["value"])]),s("div",de,[o(T,{type:"circle",indeterminate:"",percentage:D.value,color:P,width:50},null,8,["percentage"]),o(H,{title:"是否提交考卷?",onConfirm:y,"confirm-button-text":"是","cancel-button-text":"否"},{reference:n(()=>[o(_,{type:"warning"},{default:n(()=>[r("提交")]),_:1})]),_:1})])]),o(z,{style:{margin:"12px 0"}}),s("div",_e,[(p(!0),h(x,null,K(l(m),a=>(p(),h("div",{class:"body_item",key:a.id},[o(I,{class:"header__body_item_left",type:"primary"},{default:n(()=>[r(v(a.formula+" ="),1)]),_:2},1024),o(L,{class:"header__body_item_right",type:"number",size:"small","controls-position":"right",modelValue:a.value,"onUpdate:modelValue":$=>a.value=$},null,8,["modelValue","onUpdate:modelValue"])]))),128))])],512),o(U,{style:{"min-width":"250px"},modelValue:u.value,"onUpdate:modelValue":e[2]||(e[2]=a=>u.value=a),"align-center":"","show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1},{footer:n(()=>[s("div",me,[o(_,{type:"success",icon:l(ee),onClick:e[0]||(e[0]=a=>u.value=!1)},{default:n(()=>[r("确认")]),_:1},8,["icon"]),w.value<5?(p(),oe(_,{key:0,type:"danger",icon:l(te),onClick:e[1]||(e[1]=a=>t.$router.push({name:"Mistake"}))},{default:n(()=>[r("查看错题")]),_:1},8,["icon"])):se("",!0)])]),default:n(()=>[s("div",pe,[s("span",fe,v(l(C))+" / "+v(l(i).cnt),1),o(R,{size:"large",value:w.value,"allow-half":"",disabled:""},null,8,["value"])])]),_:1},8,["modelValue"])],64)}}},be=A(ge,[["__scopeId","data-v-ab394a37"]]);export{be as default};
