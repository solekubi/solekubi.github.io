/* empty css                  *//* empty css                 */import{u as j}from"./app-B_Ij9HCp.js";import{_ as q,C as A,u as G,s as b,b as k,D as g,c as h,B as s,a as t,w as a,g as l,F as x,h as J,G as V,i as B,x as K,H as Q,I as W,J as X,K as Y,o as f,f as r,L as Z,M as v,N as ee,e as te,O as oe,P as se,Q as ne,R as ae,q as le,S as ce}from"./index-Duth7NR-.js";const re={class:"header"},ie={class:"header__left"},ue={class:"header__mid"},de={class:"header__right"},_e={class:"body"},fe={class:"dialog__header"},pe={class:"demonstration"},me={class:"dialog__footer"},ge={__name:"PaperView",setup(he){A(o=>({"128c25be":M.value}));const c=j(),p=G(),{configs:i,arithmeticList:m}=b(p),{completed:E,correctCnt:y,countDown:S}=b(c);c.setCountDown(i.value.timer);const F=()=>{E.value?B.push({name:"Config"}).then(()=>{p.setConfigFlag(!1),c.setComplete(!1)}):V.confirm("此操作会清空已经做的题目，是否返回上一页？","警告",{confirmButtonText:"确认",showCancelButton:!1,closeOnClickModal:!1,closeOnPressEscape:!1,type:"warning",center:!0,roundButton:!0}).then(()=>{B.push({name:"Config"}).then(()=>{p.setConfigFlag(!1),c.setComplete(!1)})}).catch(o=>{console.log(o)})},u=k(!1),C=g(()=>Number((y.value/i.value.cnt*5).toFixed(2))),w=()=>{u.value=!0,c.submit(m.value)},P=[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#5cb87a",percentage:60},{color:"#1989fa",percentage:80},{color:"#6f7ad3",percentage:100}],D=g(()=>{let o=0;for(const{value:e}of m.value)typeof e<"u"&&String(e).replace(/\s+/g,"")!==""&&o++;return Math.round(o/i.value.cnt*100)}),d=k(),M=g(()=>{const o=(d==null?void 0:d.value.clientHeight)??0,e=window.innerHeight??0;return o>e?"100%":"auto"}),N=()=>{V.confirm("已经到时间啦！","警告",{confirmButtonText:"确认",showCancelButton:!1,closeOnClickModal:!1,closeOnPressEscape:!1,type:"warning",center:!0,showClose:!1}).then(w)};return(o,e)=>{const _=K,O=Q,T=W,H=X,z=ne,I=ae,L=le,R=ce,U=Y;return f(),h(x,null,[s("div",{ref_key:"paper",ref:d,class:"container"},[s("div",re,[s("div",ie,[t(_,{icon:l(Z),link:"",size:"large",onClick:F},{default:a(()=>[r("返回")]),_:1},8,["icon"])]),s("div",ue,[t(O,{format:"mm:ss",value:l(S).end,onFinish:N},null,8,["value"])]),s("div",de,[t(T,{type:"circle",indeterminate:"",percentage:D.value,color:P,width:50},null,8,["percentage"]),t(H,{title:"是否提交考卷?",onConfirm:w,"confirm-button-text":"是","cancel-button-text":"否"},{reference:a(()=>[t(_,{type:"warning"},{default:a(()=>[r("提交")]),_:1})]),_:1})])]),t(z,{style:{margin:"12px 0"}}),s("div",_e,[(f(!0),h(x,null,J(l(m),n=>(f(),h("div",{class:"body_item",key:n.id},[t(I,{class:"header__body_item_left",type:"primary"},{default:a(()=>[r(v(n.formula+" ="),1)]),_:2},1024),t(L,{class:"header__body_item_right",type:"number",size:"small","controls-position":"right",modelValue:n.value,"onUpdate:modelValue":$=>n.value=$},null,8,["modelValue","onUpdate:modelValue"])]))),128))])],512),t(U,{style:{"min-width":"250px"},modelValue:u.value,"onUpdate:modelValue":e[2]||(e[2]=n=>u.value=n),"align-center":"","show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1},{footer:a(()=>[s("div",me,[t(_,{type:"success",icon:l(ee),onClick:e[0]||(e[0]=n=>u.value=!1),style:{justifySelf:"end"}},{default:a(()=>[r("确认")]),_:1},8,["icon"]),C.value<5?(f(),te(_,{key:0,type:"danger",style:{"justify-self":"start"},icon:l(oe),onClick:e[1]||(e[1]=n=>o.$router.push({name:"Mistake"}))},{default:a(()=>[r("查看错题")]),_:1},8,["icon"])):se("",!0)])]),default:a(()=>[s("div",fe,[s("span",pe,v(l(y))+" / "+v(l(i).cnt),1),t(R,{size:"large",value:C.value,"allow-half":"",disabled:""},null,8,["value"])])]),_:1},8,["modelValue"])],64)}}},be=q(ge,[["__scopeId","data-v-143d9746"]]);export{be as default};
